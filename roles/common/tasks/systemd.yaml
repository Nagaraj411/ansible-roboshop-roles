- name: Copy catalogue service file
  ansible.builtin.template: # copy the systemd service file for the catalogue application
    src: catalogue.service.j2 # this is a Jinja2 template file for the service configuration
    dest: /etc/systemd/system/catalogue.service

- name: systemctl daemon reload
  ansible.builtin.systemd_service: # daemon reload to recognize the new service file
    daemon_reload: true

- name: start and enable catalogue
  ansible.builtin.service: # start the catalogue service and enable line 46 # it to start on boot
    name: catalogue
    state: restarted # even app is not running, we need to restart it
    enabled: yes
